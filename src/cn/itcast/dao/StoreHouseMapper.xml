<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.itcast.dao.StoreHouseMapper" >
  <resultMap id="storeHouseResultMap" type="cn.itcast.entity.StoreHouse" >
    <id column="sh_id" property="shId" jdbcType="VARCHAR" />
    <result column="sh_name" property="shName" jdbcType="VARCHAR" />
    <result column="sh_responsible" property="shResponsible" jdbcType="VARCHAR" />
    <result column="sh_phone" property="shPhone" jdbcType="VARCHAR" />
    <result column="sh_address" property="shAddress" jdbcType="VARCHAR" />
    <result column="sh_type" property="shType" jdbcType="VARCHAR" />
    <result column="sh_remark" property="shRemark" jdbcType="VARCHAR" />
  </resultMap>
  <select id="selectPageListUseDyc" parameterType="page"
		resultMap="storeHouseResultMap">
		select * from store_house
		<where>
			<if test="paramEntity.shName!=null">
				and sh_name like #{paramEntity.shName}
			</if>
			<if test="paramEntity.shAddress!=null">
				and sh_address like #{paramEntity.shAddress}
			</if>
		</where>
		limit #{start},#{rows}
	</select>
	<!-- 通过多条件分类查询，返回总记录数 -->
	<select id="selectPageCountUseDyc" parameterType="page" resultType="Integer">
		select count(1) from store_house 
		<where>
			<if test="paramEntity.shName!=null">
				and sh_name like #{paramEntity.shName}
			</if>
			<if test="paramEntity.shAddress!=null">
				and sh_address like #{paramEntity.shAddress}
			</if>
		</where>
	</select>
</mapper>